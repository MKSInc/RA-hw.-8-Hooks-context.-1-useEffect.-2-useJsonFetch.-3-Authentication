(this["webpackJsonpra-hw.-8-hooks-context.-1-useeffect.-2-usejsonfetch.-3-authentication"]=this["webpackJsonpra-hw.-8-hooks-context.-1-useeffect.-2-usejsonfetch.-3-authentication"]||[]).push([[0],{13:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(8),i=s.n(n),r=(s(13),s(2)),l=s(0);function j(e){var t=e.setIsSrcLaded,s=Object(a.useState)(!0),c=Object(r.a)(s,2),n=c[0],i=c[1];return setTimeout((function(){t(!0),i(!1)}),1),n?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"profiles__loading profiles__loading-list _visually-hidden"}),Object(l.jsx)("div",{className:"profiles__loading profiles__loading-details _visually-hidden"})]}):null}var o=s(4),d=s.n(o),u=s(5),h=s(3),b=s(6),_=c.a.createContext();function m(e){var t=new URL(e),s=Math.floor(40*Math.random())+280;return t.pathname=s,t.href}function O(e){var t=e.url,s=e.initialData,c=e.dataName,n=Object(a.useContext)(_).setIsLoading,i=Object(a.useState)(s),l=Object(r.a)(i,2),j=l[0],o=l[1],O=new AbortController;return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},c,!0))})),e.prev=1,e.next=4,fetch("https://raw.githubusercontent.com/netology-code/ra16-homeworks/master/hooks-context/use-effect/data/"+t,{signal:O.signal});case 4:if((s=e.sent).ok){e.next=7;break}throw new Error("".concat(s.url," ").concat(s.status));case 7:return e.next=9,s.json();case 9:(a=e.sent).avatar&&(a.avatar=m(a.avatar)),o(a),n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},c,!1))})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("\u26d4",e.t0.message),"AbortError"!==e.t0.name&&n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},c,!1))}));case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),[{data:j,fetchController:O}]}var x=function(e){var t=e.handleOnItemClick,s=e.selectedID,a=e.isLoading,c=O({url:"users.json",initialData:[],dataName:"list"}),n=Object(r.a)(c,1)[0].data,i=function(e){var t=[];return e.id===s&&t.push("profiles__selected"),a.details&&t.push("profiles__loading","profiles__loading-details"),t.join(" ")};return Object(l.jsx)("div",{className:"profiles__item",children:Object(l.jsxs)("ul",{className:"profiles__list",children:[a.list?Object(l.jsx)("li",{className:"profiles__loading profiles__loading-list",children:Object(l.jsx)("div",{className:"profiles__text",children:"Loading..."})}):null,n.map((function(e){return Object(l.jsx)("li",{className:"".concat(i(e)),onClick:function(){return t(e)},children:Object(l.jsx)("button",{className:"profiles__text",children:e.name})},e.id)}))]})})};var f=function(e){var t=e.selectedID,s=O({url:"".concat(t,".json"),initialData:null,dataName:"details"}),c=Object(r.a)(s,1)[0],n=c.data,i=c.fetchController;return Object(a.useEffect)((function(){return function(){return i.abort()}}),[t]),null===n?null:Object(l.jsx)("div",{className:"profiles__details details-profiles",children:Object(l.jsxs)("ul",{className:"profiles__list",children:[Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"profiles__img",children:Object(l.jsx)("img",{src:n.avatar,alt:"user"})})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"profiles__text propfiles__name",children:n.name})}),Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"profiles__text",children:["City: ",n.details.city]})}),Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"profiles__text",children:["Company: ",n.details.company]})}),Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"profiles__text",children:["Position: ",n.details.position]})})]})})};s(16);var v=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)({list:!1,details:!1}),i=Object(r.a)(n,2),o=i[0],d=i[1],u=Object(a.useState)(!1),h=Object(r.a)(u,2),b=h[0],m=h[1];return Object(l.jsx)(_.Provider,{value:{setIsLoading:d},children:Object(l.jsxs)("div",{className:"profiles",children:[b?null:Object(l.jsx)(j,{setIsSrcLaded:m}),Object(l.jsx)("div",{className:"profiles__column-1",children:Object(l.jsx)(x,{handleOnItemClick:function(e){c(e.id)},selectedID:s,isLoading:o})}),Object(l.jsx)("div",{className:"profiles__column-2",children:null!==s?Object(l.jsx)(f,{selectedID:s}):null})]})})};var p=function(e,t){var s=Object(a.useState)(null),c=Object(r.a)(s,2),n=c[0],i=c[1],l=Object(a.useState)(null),j=Object(r.a)(l,2),o=j[0],u=j[1],h=Object(a.useState)(!1),_=Object(r.a)(h,2),m=_[0],O=_[1];return Object(a.useEffect)((function(){var s=function(){var s=Object(b.a)(d.a.mark((function s(){var a,c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return O(!0),s.prev=1,s.next=4,fetch(e,t);case 4:if((a=s.sent).ok){s.next=7;break}throw new Error("".concat(a.url," ").concat(a.status," ").concat(a.statusText));case 7:return s.next=9,a.json();case 9:c=s.sent,i(c),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),u(s.t0.message);case 16:O(!1);case 17:case"end":return s.stop()}}),s,null,[[1,13]])})));return function(){return s.apply(this,arguments)}}();s()}),[e]),[{data:n,error:o,loading:m}]};s(17);function N(){var e=p("https://ra-8-2-usejsonfetch.herokuapp.com/data"),t=Object(r.a)(e,1)[0].data;return Object(l.jsxs)("div",{className:"success",children:[Object(l.jsx)("div",{className:"jsonfetch__title",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"}),Object(l.jsxs)("div",{className:"jsonfetch__text",children:["Data: ",null!==t?t.status:""]})]})}function k(){var e=p("https://ra-8-2-usejsonfetch.herokuapp.com/error"),t=Object(r.a)(e,1)[0].error;return Object(l.jsxs)("div",{className:"error",children:[Object(l.jsx)("div",{className:"jsonfetch__title",children:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 500 \u043e\u0448\u0438\u0431\u043a\u0438"}),Object(l.jsxs)("div",{className:"jsonfetch__text jsonfetch__error",children:["Error: ",null!==t?t:""]})]})}function g(){var e=p("https://ra-8-2-usejsonfetch.herokuapp.com/loading"),t=Object(r.a)(e,1)[0].loading;return Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("div",{className:"jsonfetch__title",children:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (5 \u0441\u0435\u043a)"}),t?Object(l.jsx)("div",{className:"jsonfetch__loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):null]})}var y=function(){return Object(l.jsxs)("div",{className:"jsonfetch",children:[Object(l.jsx)(N,{}),Object(l.jsx)(k,{}),Object(l.jsx)(g,{})]})};function w(){return Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsx)("header",{className:"header",id:"header",children:Object(l.jsx)("div",{className:"header__body _container",children:Object(l.jsx)("div",{className:"header__title",children:"8. \u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043a \u043b\u0435\u043a\u0446\u0438\u0438 \xabHooks, Context API\xbb"})})}),Object(l.jsxs)("main",{className:"main",children:[Object(l.jsxs)("div",{className:"main__item task _container",id:"task1",children:[Object(l.jsxs)("header",{className:"task__header",children:[Object(l.jsx)("div",{className:"task__title",children:"8.1. useEffect (\u0421\u043f\u0438\u0441\u043e\u043a \u0438 \u0434\u0435\u0442\u0430\u043b\u0438)"}),Object(l.jsx)("nav",{className:"task__menu menu",children:Object(l.jsx)("div",{className:"menu__item",children:Object(l.jsx)("a",{className:"menu__link menu__link-bottom",href:"#task2",children:Object(l.jsx)("span",{className:"_visually-hidden",children:"next task"})})})})]}),Object(l.jsx)("div",{className:"task__body",children:Object(l.jsx)(v,{})})]}),Object(l.jsxs)("div",{className:"main__item task _container",id:"task2",children:[Object(l.jsxs)("header",{className:"task__header",children:[Object(l.jsx)("div",{className:"task__title",children:"8.2. useJsonFetch"}),Object(l.jsxs)("nav",{className:"task__menu menu",children:[Object(l.jsx)("div",{className:"menu__item",children:Object(l.jsx)("a",{className:"menu__link menu__link-top",href:"#header",children:Object(l.jsx)("span",{className:"_visually-hidden",children:"previous task"})})}),Object(l.jsx)("div",{className:"menu__item",children:Object(l.jsx)("a",{className:"menu__link menu__link-bottom",href:"#task3",children:Object(l.jsx)("span",{className:"_visually-hidden",children:"next task"})})})]})]}),Object(l.jsx)("div",{className:"task__body",children:Object(l.jsx)(y,{})})]}),Object(l.jsxs)("div",{className:"main__item task _container",id:"task3",children:[Object(l.jsxs)("header",{className:"task__header",children:[Object(l.jsx)("div",{className:"task__title",children:"8.3. Authentication*"}),Object(l.jsx)("nav",{className:"task__menu menu",children:Object(l.jsx)("div",{className:"menu__item",children:Object(l.jsx)("a",{className:"menu__link menu__link-top",href:"#task2",children:Object(l.jsx)("span",{className:"_visually-hidden",children:"previous task"})})})})]}),Object(l.jsx)("div",{className:"task__body"})]})]})]})}i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.fb18392a.chunk.js.map